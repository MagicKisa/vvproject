# Приложение поднято по ссылке

https://vvproject.streamlit.app/

# Как пользоваться?

- переходим по ссылке https://vvproject.streamlit.app/
- Вводим данные об эксперименте в форму
- Жмём кнопку зафиксировать
- в строке ниже вводим название для общего файла (ничего подтверждать не нужно)
- Загружаем текстовые данные экспериментов по кнопке или перетаскивая
- Ждём выполнения, пока не появится кнопка загрузить архив
- Нажимаем кнопку загрузки, архив должен скачаться
- Распаковываем архив с результатами
  
> [!Note]
> Если архив поврежден, достаточно снова нажать кнопку загрузить архив и попробовать распаковать его, проблема должна исчезнуть

# Применение

Успешно работает с 40 файлами, предельная нагрузка не известна. С меньшим числом файлов на данный момент никаких проблем не возникало.

# Предупрежения

Все файлы обрабатывались по примеру, обработка не является строгой и её можно корректировать разобравшись в коде, и в том что нужно построить в итоговых excel файлах.

Если названия текстовых файлов поменяют формат - все можёт сломаться. Нужно будет поменять функции которые извлекают из названий дату и номер эксперимента.

# Поднять у себя

```
pip install -r requirements.txt
streamlit run main.py
```

далее открываем ссылку, которая будет выведена в консоль

# Как это работает?

На бесплатном облаке запущено приложение с которым можно взаимодействовать через графический интерфейс по ссылке. Облако смотрит за изменениями в этом репозитории и при новом коммите пересобирает приложение. Когда приложением никто не пользуется оно засыпает, но в случае если кому-то оно необходимо можно его разбудить.

Так же приложение может локально работать на компьютере, как его запустить смотрите в разделе выше.

Думаю, можно и самому сделать облако, но я этим не занимался.

# За что отвечают файлы в директории?

## form_data.json - содержит данные по умолчанию из формы(см. на скриншоте)

### Назначение 

Из него считываются данные по умолчанию, заранее в него записанные в виде json. 

### Предупрждения

Данные по умолчанию взяты из примера, для работы программы менять их не обязательно!

![image](https://github.com/MagicKisa/vvproject/assets/105859497/eae82ffd-4b72-4b28-bd25-5e5ed5633ef1)

> [!NOTE]
> Если открыть файл в текстовом редакторе вместо русских букв будут числа - это кодировка, так и должно быть**
## main.py - основной файл, содержит графический интерфейс, позволяет скачивать и закачивать файлы и вызывает вспомогательные функции из utils.py

### Назначение

- закачивание и скачивание файлов
- вывод и обновление графического интерфейса
- вызов вспомогательных функций для обработки файлов
- кэширование вызовов вспомогательных функций 

см. комментарии в коде

### Предупреждение

в случае смены формата названий текстовых файлов всё может сломаться.

## utils.py - содержит вспомогательные функции которые нужны для обработки входящих файлов по примеру и создания результата

### Назначение 

- считывание значений из текстового файла
- обработка в соответствии с примером
- запись обработанных данных в excel файлы и создание графиков по ним
- запись некоторых ключевых результатов из каждого excel файла в общий excel файл

см. комментарии в коде

### Предупреждение 

в случае смены формата названий текстовых файлов всё может сломаться.

## requirements.txt - содержит названия библиотек необходимых для работы

## .gitignore - содержит команды позволяющие git не отслеживать некоторые файлы/директории и т.д.

# см. Также

https://docs.streamlit.io/get-started
